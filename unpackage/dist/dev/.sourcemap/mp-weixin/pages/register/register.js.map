{"version":3,"sources":["uni-app:///main.js","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?d349","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?90ca","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?4b92","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?8f7e","uni-app:///pages/register/register.vue","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?d48f","webpack:///D:/七月/GitHub仓库/July_fair2.0/pages/register/register.vue?7db4"],"names":["createPage","Page"],"mappings":"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","file":"pages/register/register.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/register/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=891c2434&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/register/register.vue\"\nexport default component.exports","export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=template&id=891c2434&\"","var components\ntry {\n  components = {\n    xpPicker: function() {\n      return import(\n        /* webpackChunkName: \"components/xp-picker/xp-picker\" */ \"@/components/xp-picker/xp-picker.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      ;(_vm.uploadImgType = 1), _vm.addPic()\n    }\n\n    _vm.e1 = function($event) {\n      ;(_vm.uploadImgType = 2), _vm.addPic()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<!-- 顶部条 -->\r\n\t\t\t<view class=\"top\">\r\n\t\t\t\t<image src=\"../../static/images/left.png\" mode=\"aspectFill\" @click=\"goBack()\"></image>\r\n\t\t\t\t<text>注册与认证</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 头像 -->\r\n\t\t\t<view class=\"portrait\">\r\n\t\t\t\t<image :src=\"portraitSrc\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"add-portrait\" v-if=\"plusBtn\" @click=\"uploadImgType = 1 ,addPic()\">\r\n\t\t\t\t\t<image src=\"../../static/images/408.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 两个输入框 -->\r\n\t\t\t<view class=\"input\">\r\n\t\t\t\t<text>昵称</text>\r\n\t\t\t\t<input type=\"text\" value=\"\" v-model=\"nickname\" placeholder=\"请输入昵称\" placeholder-style=\"color:#DFDDD9\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"input\">\r\n\t\t\t\t<text>生日</text>\r\n\t\t\t\t<xp-picker ref=\"picker\" @confirm=\"confirm()\" />\r\n\t\t\t\t<input type=\"text\" v-model=\"birthday\" disabled=\"disabled\" value=\"\" placeholder=\"请输入生日\" @tap='show()'\r\n\t\t\t\t\tplaceholder-style=\"color:#DFDDD9\" />\r\n\t\t\t</view>\r\n\t\t\t<!-- 小字-说明信息 -->\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<text>身份认证</text>\r\n\t\t\t\t<text>游客只能在平台购买，学生和商家可发布作品</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 按钮-身份选择 -->\r\n\t\t\t<view class=\"select-btn\">\r\n\t\t\t\t<view :class=\"{ btn11: btn1==0 }\" @click=\"selectBtn1()\"><text>我是游客</text></view>\r\n\t\t\t\t<view :class=\"{ btn22: btn2==1 }\" @click=\"selectBtn2()\"><text>我是学生</text></view>\r\n\t\t\t\t<view :class=\"{ btn33: btn3==2 }\" @click=\"selectBtn3()\"><text>我是商家</text></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 学生区块 -->\r\n\t\t\t<block v-if=\"btn2==1\">\r\n\t\t\t\t<view class=\"prompt\">\r\n\t\t\t\t\t<image src=\"../../static/images/Layer%202.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>以下信息填写确定后不可更改，请上传并填写真实有效的信息</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input\">\r\n\t\t\t\t\t<text>学校</text>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"university\" value=\"\" placeholder=\"请输入学校名称\"\r\n\t\t\t\t\t\tplaceholder-style=\"color:#DFDDD9\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input\">\r\n\t\t\t\t\t<text>专业</text>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"major\" value=\"\" placeholder=\"请输入专业名称\"\r\n\t\t\t\t\t\tplaceholder-style=\"color:#DFDDD9\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input\">\r\n\t\t\t\t\t<text>学号</text>\r\n\t\t\t\t\t<input type=\"number\" v-model=\"schoolNumber\" value=\"\" placeholder=\"请输入学号\"\r\n\t\t\t\t\t\tplaceholder-style=\"color:#DFDDD9\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input2\">\r\n\t\t\t\t\t<view class=\"input2-top\">\r\n\t\t\t\t\t\t<text>校园卡</text>\r\n\t\t\t\t\t\t<text style=\"color:#DFDDD9\">请上传学生证图片</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 未上传校园卡 -->\r\n\t\t\t\t\t<view class=\"icon-add\" v-if=\"cardSrc==''\" @tap=\"uploadImgType = 2 ,addPic()\">\r\n\t\t\t\t\t\t<text>+</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 已经上传校园卡 -->\r\n\t\t\t\t\t<view class=\"card-img\" v-if=\"cardSrc!=''\">\r\n\t\t\t\t\t\t<image :src=\"cardSrc\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- 商家区块 -->\r\n\t\t\t<block v-if=\"btn3==2\">\r\n\t\t\t\t<view class=\"prompt\">\r\n\t\t\t\t\t<image src=\"../../static/images/Layer%202.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>以下信息填写确定后不可更改，请上传并填写真实有效的信息</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input2\">\r\n\t\t\t\t\t<view class=\"input2-top\">\r\n\t\t\t\t\t\t<text>证明资料</text>\r\n\t\t\t\t\t\t<text style=\"color:#DFDDD9\">请上传资料图片</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 未上传商家资料 -->\r\n\t\t\t\t\t<view class=\"icon-add\" v-if=\"merchantSrc==''\" @click=\"addPic()\">\r\n\t\t\t\t\t\t<text>+</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 已经上传商家资料 -->\r\n\t\t\t\t\t<view class=\"merchant-img\" v-if=\"merchantSrc!=''\">\r\n\t\t\t\t\t\t<image :src=\"merchantSrc\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- 游客区块 -->\r\n\t\t\t<block v-if=\"btn1 == 0\">\r\n\t\t\t\t<text class=\"block-yk\">游客无需认证</text>\r\n\t\t\t</block>\r\n\t\t\t<view class=\"confirm\" @click=\"goConfirm()\">\r\n\t\t\t\t<text>立即认证</text>\r\n\t\t\t</view>\r\n            \r\n\t\t\t<!-- 弹窗 -->\r\n\t\t\t<uni-popup ref=\"popup\" type=\"dialog\" class=\"confirmPrice-container\">\r\n\t\t\t\t<view class=\"confirmPrice\">\r\n\t\t\t\t\t<text>确定提交认证吗？</text>\r\n\t\t\t\t\t<text>身份认账一经通过无法更改</text>\r\n\t\t\t\t\t<view class=\"confirmPrice-btn\">\r\n\t\t\t\t\t\t<view class=\"confirm-btn\" @click=\"close()\">\r\n\t\t\t\t\t\t\t<text>取消</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"confirm-btn\" @click=\"registerStudent()\">\r\n\t\t\t\t\t\t\t<text>确定</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser:getApp().globalData.uesr,\r\n\t\t\t\tbtn1: -1,\r\n\t\t\t\tbtn2: 1,\r\n\t\t\t\tbtn3: -1,\r\n\t\t\t\tportraitSrc:'../../static/images/portrait_src.png',//头像地址\r\n\t\t\t\tplusBtn:true,//添加头像按钮显示\r\n\t\t\t\tnickname: '', //昵称和生日\r\n\t\t\t\tbirthday: '',\r\n\t\t\t\tuniversity: '', //学生注册信息\r\n\t\t\t\tmajor: '',\r\n\t\t\t\tschoolNumber: '',\r\n\t\t\t\tcardSrc:'',    //校园卡图片地址\r\n\t\t\t\tmerchantSrc:'', //商家资料图片地址\r\n\t\t\t\tuploadImgType:'', //区分上传的是头像还是校园卡\r\n\t\t\t\tuser_register:{}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// uni.getStorageSync({\r\n\t\t\t// \tkey:user,\r\n\t\t\t// \tsuccess:function(res){\r\n\t\t\t// \t\tconsole.log('缓存的用户数据',res)\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\tconsole.log(this.user)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//弹窗\r\n\t\t\topen() {\r\n\t\t\t\tthis.$refs.popup.open('center')\r\n\t\t    },\r\n\t\t\tclose() {\r\n\t\t\t    this.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\t//顶部条返回按钮\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 三个按钮切换\r\n\t\t\tselectBtn1() {\r\n\t\t\t\tthis.btn1 = 0;\r\n\t\t\t\tthis.btn2 = -1;\r\n\t\t\t\tthis.btn3 = -1\r\n\t\t\t},\r\n\t\t\tselectBtn2() {\r\n\t\t\t\tthis.btn1 = -1;\r\n\t\t\t\tthis.btn2 = 1;\r\n\t\t\t\tthis.btn3 = -1\r\n\t\t\t},\r\n\t\t\tselectBtn3() {\r\n\t\t\t\tthis.btn1 = -1;\r\n\t\t\t\tthis.btn2 = -1;\r\n\t\t\t\tthis.btn3 = 2\r\n\t\t\t},\r\n\t\t\t//底部的《立即认证》\r\n\t\t\tgoConfirm() {\r\n\t\t\t\tconsole.log('昵称', this.nickname)\r\n\t\t\t\tconsole.log('生日', this.birthday)\r\n\t\t\t\tif (this.nickname && this.birthday) {\r\n\t\t\t\t\tif (this.btn2 == 1) {                 //学生认证\r\n\t\t\t\t\t\tconsole.log('学校', this.university)\r\n\t\t\t\t\t\tconsole.log('专业', this.major)\r\n\t\t\t\t\t\tconsole.log('学号', this.schoolNumber)\r\n\t\t\t\t\t\tconsole.log('校园卡地址：', this.cardSrc)\r\n\t\t\t\t\t\tif (this.university && this.major && this.schoolNumber&&this.cardSrc) {\r\n\t\t\t\t\t\t    this.open()\r\n\t\t\t\t\t\t\tthis.user_register = {\r\n\t\t\t\t\t\t\t\tportrait:this.portraitSrc,\r\n\t\t\t\t\t\t\t\tnickname:this.nickname,\r\n\t\t\t\t\t\t\t\tbirthday:this.birthday,\r\n\t\t\t\t\t\t\t\tuniversity:this.university,\r\n\t\t\t\t\t\t\t\tmajor:this.major,\r\n\t\t\t\t\t\t\t\tschoolNumber:this.schoolNumber,\r\n\t\t\t\t\t\t\t\tcard:this.cardSrc\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log('注册信息：',this.user_register)\r\n\t\t\t\t\t\t\tgetApp().globalData.user_register = this.user_register\r\n\t\t\t\t\t\t\tconsole.log('globaldata里的注册信息：',getApp().globalData.user_register)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '请补全学生信息',\r\n\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('昵称：', this.nickname, '生日：', this.birthday)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.btn3==2) {    //商家认证\r\n\t\t\t\t\t\tconsole.alert('nihao')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.btn1==0) {    //游客认证\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl:'../index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请填写昵称和生日',\r\n\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 注册学生用户\r\n\t\t\tasync registerStudent() {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('注册')\r\n\t\t\t\tconst res = await this.$myRequest({\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\turl:'/user/register/student',\r\n\t\t\t\t\t//url: '/user/register/student?university=' + this.university + '&major=' + this.major + '&schoolNumber=' + this.schoolNumber + '&card=' + this.cardSrc,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tname:this.nickName,\r\n\t\t\t\t\t\tunivercity:this.university,\r\n\t\t\t\t\t\tmajor:this.major,\r\n\t\t\t\t\t\tschoolNumber:this.schoolNumber,\r\n\t\t\t\t\t\tcard:this.cardSrc,\r\n\t\t\t\t\t\topenId:this.user.openId,\r\n\t\t\t\t\t\ttype:this.user.Type,\r\n\t\t\t\t\t\tportrait:this.portraitSrc,\r\n\t\t\t\t\t\tfans:0,\r\n\t\t\t\t\t\tfollows:0\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('注册执行结果:',res)\r\n\t\t\t\tgetApp().globalData.Type = 0\r\n\t\t\t\tconsole.log('修改用户身份：学生：（type==0）',getApp().globalData.Type)\r\n\t\t\t\tthis.close()\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon:'success',\r\n\t\t\t\t\ttitle:'注册成功！',\r\n\t\t\t\t\tduration:1500\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(this.goToSelectTags(),2000);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgoToSelectTags() {\r\n\t\t\t    uni.navigateTo({\r\n\t\t\t\t\turl:'../select-tags/select-tags'\r\n\t\t\t\t})\t\r\n\t\t\t},\r\n\t\t\t// 生日选择器\r\n\t\t\tshow() {\r\n\t\t\t\t\tthis.$refs.picker.show()\r\n\t\t\t\t},\r\n\t\t\t\tconfirm(e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tthis.birthday = e.value\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 上传图片-学生\r\n\t\t\tasync addPic() {\r\n\t\t\t\tconsole.log(\"uploading pics\");\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tlet res1 = await this.$chooseImage({})\r\n\t\t\t\tconsole.log('res1.temp...:',res1)\r\n\t\t\t\tlet res2 = await this.$uploadFile({\r\n\t\t\t\t\t//url: \"/goods/uploadImage\",\r\n\t\t\t\t\turl: \"/user/uploadImage?type=\" + this.uploadImgType ,\r\n\t\t\t\t\ttempFilePaths: res1.tempFilePaths\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('res2.data:',res2.data)\r\n\t\t\t\tvar obj = JSON.parse(res2.data);\r\n\t\t\t\tif(obj.status==0){\r\n\t\t\t\t\tconsole.log(obj.data[0])\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.uploadImgType==1) {\r\n\t\t\t\t\t\tthis.portraitSrc = obj.data[0]\r\n\t\t\t\t\t\tthis.plusBtn = false\r\n\t\t\t\t\t\t// let key = \"portraitSrc\"\r\n\t\t\t\t\t\t// let value = this.portraitSrc\r\n\t\t\t\t\t\tconsole.log('globaluser：',getApp().globalData.uesr)\r\n\t\t\t\t\t\tconsole.log('用户上传的头像',this.portraitSrc)\r\n\t\t\t\t\t\t//getApp().globalData.user.portraitSrc = this.portraitSrc\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.uploadImgType==2) {\r\n\t\t\t\t\t\tthis.cardSrc = obj.data[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"上传成功\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"上传失败\",\r\n\t\t\t\t\t\tcontent: 'error:'+obj.message,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 上传图片-商家\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t@import \"register.less\";\r\n</style>\r\n","import mod from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641219004024\n      var cssReload = require(\"D:/apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}